= stylesheet_link_tag "root", :media => "all"
= javascript_include_tag "root"
%script{type: "text/javascript", src: "https://golden-layout.com/files/latest/js/goldenlayout.min.js"}
%link{type: "text/css", rel: "stylesheet", href: "https://golden-layout.com/files/latest/css/goldenlayout-base.css"}
%link{type: "text/css", rel: "stylesheet", href: "https://golden-layout.com/files/latest/css/goldenlayout-light-theme.css"}

%body
  %nav.navbar.navbar-default{role: "navigation"}
    .container-fluid
      .navbar-header
        %a.navbar-brand{href: "/"}
          = image_tag "logo.png", :size => "50x32"
      .collapse.navbar-collapse{id: "nav_targets"}
        %ul.nav.navbar-nav.navbar-right
          %li
            %a{href: "/users/#{current_user.id}"}
              Profile
          %li
            %a{href: "#{logout_path}"}
              Log out
  .container


:javascript
  var config = {
    content: [{
      type: 'row',
      content: [{
        type: 'component',
        componentName: 'testComponent',
        componentState: { label: 'スケジュール' }
      },
      {
        type: 'column',
        content: [{
          type: 'component',
          componentName: 'testComponent',
          componentState: { label: '運動記録' }
        },
        {
          type: 'component',
          componentName: 'testComponent',
          componentState: { label: '運動データ'}
        }]
      }]
    }]
  };

  var myLayout = new GoldenLayout(config);
  myLayout.registerComponent('testComponent', function( container, componentState) {
    container.getElement().html('<h2>' + componentState.label + '</h2>' );
  });

  myLayout.init();

