<html>
<head>
  <meta charest="UTF-8">
  <link rel="stylesheet"
  href="./UserTop.css">
  <link rel="stylesheet" href="./bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="./jquery.weekcalendar.css">
</head>
<body>

  <div class="container">
    <div clss="row">
      <div class="col-sm-3">
        <div class="panel" draggable="true">
        <h4>今日の歩数</h4>
        <h1>2456歩</h1>
        <h4>今日の消費カロリー</h4>
        <h1>180cal</h1>
        <h4>身長</h4>
        <h1>170cm</h1>
        <h4>体重</h4>
        <h1>100kg</h1>
        <h4>BMI</h4>
        <h1>34.6</h1>
      </div>
      </div>

      <div class="col-sm-3 col-md-offset-1">
        <div class="panel"  draggable="true">
        <canvas id="weight" width="250px" height="250px"></canvas>
        <p>体重の変化グラフ(kg)</p>
        <canvas id="calorie" width="250px" height="250px"></canvas>
        <p>消費カロリーの変化グラフ（cal）</p>
      </div>
      </div>

      <div class="col-sm-3 col-md-offset-1">
        <div class="panel"  draggable="true">
        <div id="message" class="ui-corner-all"></div>
      	<div id="calendar_selection" class="ui-corner-all"></div>
      	<div id='calendar'></div>
      </div>
      </div>
    </div>
  </div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js" type="text/javascript"></script>

<script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'></script>
<script type='text/javascript' src='./jquery-ui-1.8rc3.custom.min.js'></script>
<script type='text/javascript' src='./jquery.weekcalendar.js'></script>

<script type="text/javascript">
// ▼グラフの中身(体重)
var lineChartData = {
  labels : ["8月1日","8月2日","8月3日","8月4日","8月5日","8月6日","8月7日"],
  datasets : [
    {
      label: "青データ",
      fillColor : "rgba(151,187,205,0.2)",
      strokeColor : "rgba(151,187,205,1)",
      pointColor : "rgba(151,187,205,1)",
      pointStrokeColor : "white",
      pointHighlightFill : "yellow",
      pointHighlightStroke : "blue",
      data : [ 90.5, 91.7, 90.2, 88.3, 89.2, 87.5, 90.2 ]
    }
  ]
}
// ▼グラフの中身（カロリー）
var barChartData = {
  labels : ["8月1日","8月2日","8月3日","8月4日","8月5日","8月6日","8月7日"],
  datasets : [
    {
      fillColor : "rgba(151,187,205,0.6)",
      strokeColor : "rgba(151,187,205,0.9)",
      highlightFill : "rgba(64,96,255,0.75)",
      highlightStroke : "rgba(64,96,255,1)",
      data : [ 170, 190, 350, 100, 290, 260, 280 ]
    }
  ]
}
// ▼上記のグラフを描画するための記述
window.onload = function(){
  var ctx = document.getElementById("calorie").getContext("2d");
  window.myBar = new Chart(ctx).Bar(barChartData);

  var ctx2 = document.getElementById("weight").getContext("2d");
  window.myLine = new Chart(ctx2).Line(lineChartData);
}

//カレンダー
var year = new Date().getFullYear();
var month = new Date().getMonth();
var day = new Date().getDate();

var eventData1 = {
    options: {
      timeslotsPerHour: 4,
      timeslotHeight: 20
    },
    events : [

    ]
  };

var eventData2 = {
    options: {
      timeslotsPerHour: 3,
      timeslotHeight: 30
    },
    events : [

    ]
  };


$(document).ready(function() {

  var $calendar = $('#calendar').weekCalendar({
    timeslotsPerHour: 4,
    scrollToHourMillis : 6,
    height: function($calendar){
      return $(window).height() - $("h1").outerHeight(true);
    },
    eventRender : function(calEvent, $event) {
      if(calEvent.end.getTime() < new Date().getTime()) {
        $event.css("backgroundColor", "#aaa");
        $event.find(".time").css({"backgroundColor": "#999", "border":"1px solid #888"});
      }
    },
    eventNew : function(calEvent, $event) {
      alert("You've added a new event. You would capture this event, add the logic for creating a new event with your own fields, data and whatever backend persistence you require.");
    },
    data: function(start, end, callback) {

      var dataSource = $("#data_source").val();
      if(dataSource === "1") {
        callback(eventData1);
      } else if(dataSource === "2") {
        callback(eventData2);
      } else {
        callback([]);
      }
          }
  });

  $("#data_source").change(function() {
    $calendar.weekCalendar("refresh");
    updateMessage();
  });

  function updateMessage() {
    var dataSource = $("#data_source").val();
    $("#message").fadeOut(function(){
      if(dataSource === "1") {
        $("#message").text("Displaying event data set 1 with timeslots per hour of 4 and timeslot height of 20px");
      } else if(dataSource === "2") {
        $("#message").text("Displaying event data set 2 with timeslots per hour of 3 and timeslot height of 30px");
      } else {
        $("#message").text("Displaying no events.");
      }
      $(this).fadeIn();
    });
  }
  updateMessage();

});

//D&D可能

</script>

</body>
</html>
